<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>PAASS: Scanor.cpp File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PAASS
   </div>
   <div id="projectbrief">Software suite to Acquire and Analyze Data from Pixie16</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d6/db4/_scanor_8cpp.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Scanor.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../da/d57/_scanor_8hpp_source.html">Scanor.hpp</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d0/d80/_scanor_interface_8hpp_source.html">ScanorInterface.hpp</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for Scanor.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="../../d4/db2/_scanor_8cpp__incl.png" border="0" usemap="#_scanor_8cpp" alt=""/></div>
<map name="_scanor_8cpp" id="_scanor_8cpp">
<area shape="rect" id="node2" href="../../da/d57/_scanor_8hpp.html" title="Scanor.hpp" alt="" coords="5,80,93,107"/>
<area shape="rect" id="node3" href="../../d0/d80/_scanor_interface_8hpp.html" title="ScanorInterface.hpp" alt="" coords="117,80,256,107"/>
<area shape="rect" id="node4" href="../../dd/d34/_unpacker_8hpp.html" title="A class to handle the unpacking of UTK/ORNL style pixie16 data spills. " alt="" coords="135,155,238,181"/>
<area shape="rect" id="node9" href="../../d0/d8e/_xia_list_mode_data_mask_8hpp.html" title="Class that provides the data masks for XIA list mode data. " alt="" coords="307,229,485,256"/>
<area shape="rect" id="node11" href="../../d3/d18/_helper_enumerations_8hpp.html" title="Header containing namespaced enumerations that are useful to different parts of the software..." alt="" coords="413,304,579,331"/>
</map>
</div>
</div>
<p><a href="../../d6/db4/_scanor_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4c73088139b20f913c3f554cfaa1c6a5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db4/_scanor_8cpp.html#a4c73088139b20f913c3f554cfaa1c6a5">hissub_</a> (unsigned short *sbuf[], unsigned short *nhw)</td></tr>
<tr class="memdesc:a4c73088139b20f913c3f554cfaa1c6a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">interface between scan and C++  <a href="#a4c73088139b20f913c3f554cfaa1c6a5">More...</a><br /></td></tr>
<tr class="separator:a4c73088139b20f913c3f554cfaa1c6a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a4c73088139b20f913c3f554cfaa1c6a5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">C void hissub_ </td>
          <td>(</td>
          <td class="paramtype">unsigned short *&#160;</td>
          <td class="paramname"><em>ibuf</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short *&#160;</td>
          <td class="paramname"><em>nhw</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>interface between scan and C++ </p>
<p>In a typical experiment, <a class="el" href="../../da/dc7/namespace_pixie16.html" title="Namespace containing information about Pixie16 modules. ">Pixie16</a> reads data from all modules when one module has hit the maximum number of events which is programmed during experimental setup. This spill of data is then broken into smaller chunks for transmitting across the network. The hissub_ function takes the chunks and reconstructs the spill.</p>
<p>Summarizing the terminology:</p><ul>
<li>Spill - a readout of all <a class="el" href="../../da/dc7/namespace_pixie16.html" title="Namespace containing information about Pixie16 modules. ">Pixie16</a> modules</li>
<li>Buffer - the data from a specific <a class="el" href="../../da/dc7/namespace_pixie16.html" title="Namespace containing information about Pixie16 modules. ">Pixie16</a> module</li>
<li>Chunk - the packet transferred from <a class="el" href="../../da/dc7/namespace_pixie16.html" title="Namespace containing information about Pixie16 modules. ">Pixie16</a> to the acquisition</li>
</ul>
<p>The hissub_ function is passed a pointer to an array with data (ibuf) and the number of half words (nhw) contained in it. This function is used with the new <a class="el" href="../../da/dc7/namespace_pixie16.html" title="Namespace containing information about Pixie16 modules. ">Pixie16</a> readout (which is the default). If the old <a class="el" href="../../da/dc7/namespace_pixie16.html" title="Namespace containing information about Pixie16 modules. ">Pixie16</a> readout is used, the code should be recompiled without the newreadout flag in which case this particular function is not used. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ibuf</td><td>: the array with the data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nhw</td><td>: the number of half words contained in the data buffer </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d6/db4/_scanor_8cpp_source.html#l00030">30</a> of file <a class="el" href="../../d6/db4/_scanor_8cpp_source.html">Scanor.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/db4/_scanor_8cpp_a4c73088139b20f913c3f554cfaa1c6a5_cgraph.png" border="0" usemap="#d6/db4/_scanor_8cpp_a4c73088139b20f913c3f554cfaa1c6a5_cgraph" alt=""/></div>
<map name="d6/db4/_scanor_8cpp_a4c73088139b20f913c3f554cfaa1c6a5_cgraph" id="d6/db4/_scanor_8cpp_a4c73088139b20f913c3f554cfaa1c6a5_cgraph">
<area shape="rect" id="node2" href="../../de/dfa/class_scanor_interface.html#a115408b9cb23e2152edcc81f8b236113" title="ScanorInterface::get" alt="" coords="131,56,271,83"/>
<area shape="rect" id="node4" href="../../de/dfa/class_scanor_interface.html#abc2883ce3cd0783d422bbd8251a7e644" title="ScanorInterface::Hissub" alt="" coords="120,107,283,133"/>
<area shape="rect" id="node3" href="../../de/dfa/class_scanor_interface.html#a25ac62825ff707f9fa0ca7d84efa1555" title="Default Constructor. " alt="" coords="335,56,550,83"/>
<area shape="rect" id="node5" href="../../de/dfa/class_scanor_interface.html#ae4507711417daa37e55f278b9c486a54" title="inserts a delimiter in between individual module data and at end of buffer. Data is then passed to hi..." alt="" coords="331,107,555,133"/>
<area shape="rect" id="node6" href="../../d2/de8/class_unpacker.html#a0924b471bf4cb54b70118b314c39b70b" title="Unpacker::ReadSpill" alt="" coords="603,107,745,133"/>
<area shape="rect" id="node7" href="../../d2/de8/class_unpacker.html#a18f4ca1aa3e85cfb8756e7ddeac9ac1a" title="Unpacker::ClearEventList" alt="" coords="805,5,977,32"/>
<area shape="rect" id="node9" href="../../d2/de8/class_unpacker.html#a9aa457a02e9889f56db2465af609bdf4" title="Unpacker::ReadBuffer" alt="" coords="815,157,967,184"/>
<area shape="rect" id="node32" href="../../d2/de8/class_unpacker.html#a1271192c8b5d7fcee860a8b7974bf300" title="The time of the last xia event in the raw event. " alt="" coords="821,107,960,133"/>
<area shape="rect" id="node35" href="../../d2/de8/class_unpacker.html#af3b767d00a571f8ee416df9a89625cc0" title="Unpacker::BuildRawEvent" alt="" coords="1036,56,1212,83"/>
<area shape="rect" id="node37" href="../../d2/de8/class_unpacker.html#a9388f58de41d2566ed9955df6a349d1d" title="Process all events in the event list. " alt="" coords="793,208,988,235"/>
<area shape="rect" id="node8" href="../../d0/d31/_unpacker_8cpp.html#a49e41fc5561685b7fb114361b47cbd81" title="clearDeque" alt="" coords="1080,5,1168,32"/>
<area shape="rect" id="node10" href="../../df/dea/class_xia_list_mode_data_decoder.html#a8aef1de2d68f3e04678c171650dbfc48" title="XiaListModeDataDecoder\l::DecodeBuffer" alt="" coords="1039,597,1209,638"/>
<area shape="rect" id="node11" href="../../d2/ddd/class_xia_data.html#ab1d2117cb57edc28c5fbcc172e6f6226" title="Sets the lower 32 bits of the event time. " alt="" coords="1280,629,1464,656"/>
<area shape="rect" id="node12" href="../../dc/d76/class_xia_list_mode_data_mask.html#ae7b6abea7530a613bcaf8467f77e3431" title="XiaListModeDataMask\l::GetNumberOfExternalTimestamp\lWords" alt="" coords="1260,680,1484,736"/>
<area shape="rect" id="node13" href="../../dc/d76/class_xia_list_mode_data_mask.html#a2636ba87b479c5d1351d181b6f7c82c2" title="XiaListModeDataMask\l::GetNumberOfQdcWords" alt="" coords="1285,759,1459,801"/>
<area shape="rect" id="node14" href="../../dc/d76/class_xia_list_mode_data_mask.html#a10cfe7418c0d2c2b8c3acd2725b98f74" title="XiaListModeDataMask\l::GetNumberOfEnergySumWords" alt="" coords="1263,825,1481,866"/>
<area shape="rect" id="node15" href="../../d2/ddd/class_xia_data.html#a532a17e56667eaec25330d0bc0a6797b" title="XiaData::GetCrateNumber" alt="" coords="1284,891,1460,917"/>
<area shape="rect" id="node16" href="../../d2/ddd/class_xia_data.html#ae6409571b278d1d974c3e67842ea3495" title="XiaData::GetSlotNumber" alt="" coords="1289,941,1455,968"/>
<area shape="rect" id="node17" href="../../d2/ddd/class_xia_data.html#a34bf9ef6f8f1dee918da2be675e7767a" title="XiaData::GetChannelNumber" alt="" coords="1276,107,1468,133"/>
<area shape="rect" id="node18" href="../../d2/ddd/class_xia_data.html#a673d1a85a4a03615668e99da93e30db5" title="Sets the lower 32 bits of the external event time. " alt="" coords="1273,992,1471,1019"/>
<area shape="rect" id="node19" href="../../d2/ddd/class_xia_data.html#a4dc1410b6214be80115181cedd88a044" title="Sets the upper 16 bits of the external event time. " alt="" coords="1271,1043,1473,1069"/>
<area shape="rect" id="node20" href="../../d2/ddd/class_xia_data.html#a0c4fc5e4fcf490969bdbe6e1583b38e3" title="Sets the value of the concatenated external timestamp. " alt="" coords="1267,1093,1477,1120"/>
<area shape="rect" id="node21" href="../../dd/df8/namespace_conversions.html#ab4a6f68a55e2cb0cae208ea8ba028e37" title="Conversions::Concatenate\lWords" alt="" coords="1283,1145,1461,1186"/>
<area shape="rect" id="node22" href="../../d2/ddd/class_xia_data.html#ac0a5410997d9b116ebae66651a3278c8" title="XiaData::GetExternalTimeLow" alt="" coords="1273,1211,1471,1237"/>
<area shape="rect" id="node23" href="../../d2/ddd/class_xia_data.html#a7a35b41ce4920c43eaaa4ce1c46ffaac" title="XiaData::GetExternalTimeHigh" alt="" coords="1271,157,1473,184"/>
<area shape="rect" id="node24" href="../../d2/ddd/class_xia_data.html#a87c703d624bdaecfd584a75a4ce2c73e" title="Sets the energy sums calculated on&#45;board. " alt="" coords="1286,208,1458,235"/>
<area shape="rect" id="node25" href="../../d2/ddd/class_xia_data.html#a88e29fec9a50f6f1e3ecbeaedd03456c" title="Sets the baseline recorded on the module if the energy sums were recorded in the data stream..." alt="" coords="1284,259,1460,285"/>
<area shape="rect" id="node26" href="../../d6/d23/namespace_ieee_standards.html#a3215bf702bd2a12adf40e54f894d7d27" title="IeeeStandards::IeeeFloating\lToDecimal" alt="" coords="1279,310,1465,351"/>
<area shape="rect" id="node27" href="../../d2/ddd/class_xia_data.html#ac68b617d4dfc56484670219f8cb2ef3f" title="Sets the QDCs that were calculated on&#45;board. " alt="" coords="1311,376,1433,403"/>
<area shape="rect" id="node28" href="../../d2/ddd/class_xia_data.html#a71da12674be88f691bc00b7b0090c3f1" title="XiaData::IsSaturated" alt="" coords="1300,427,1444,453"/>
<area shape="rect" id="node29" href="../../d2/ddd/class_xia_data.html#aaf91ca7a3d8cc1eb54ab6eca795ffefe" title="Sets the energy calculated on&#45;board. " alt="" coords="1303,477,1441,504"/>
<area shape="rect" id="node30" href="../../d2/ddd/class_xia_data.html#ae3f04642cb3383ae9e0756de8e2265f5" title="Sets the calculated arrival time of the signal sans the CFD fractional time components. " alt="" coords="1283,528,1461,555"/>
<area shape="rect" id="node31" href="../../d2/ddd/class_xia_data.html#a45189c3a5409a4f6e1edddf46f78d402" title="Sets the calculated arrival time of the signal. " alt="" coords="1309,579,1435,605"/>
<area shape="rect" id="node33" href="../../d2/ddd/class_xia_data.html#ab474bcbc4813df18a20e015c76df8db7" title="A method that will compare the times of two XiaData classes this method can be used in conjunction wi..." alt="" coords="1045,107,1203,133"/>
<area shape="rect" id="node34" href="../../d2/ddd/class_xia_data.html#ac11c489cabed7180f6516d724d387a56" title="XiaData::GetTime" alt="" coords="1309,56,1435,83"/>
<area shape="rect" id="node36" href="../../d2/ddd/class_xia_data.html#afcf7210c72022a696a926259d1c5ff84" title="XiaData::GetModuleNumber" alt="" coords="1279,5,1465,32"/>
</map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_19b17cb436010079e3d017a29cb7858f.html">Analysis</a></li><li class="navelem"><a class="el" href="../../dir_b3d746ee3f73c27582c04e786d179c55.html">Scanor</a></li><li class="navelem"><a class="el" href="../../dir_872ce5047702a80403fc33f8e4e84b88.html">source</a></li><li class="navelem"><a class="el" href="../../d6/db4/_scanor_8cpp.html">Scanor.cpp</a></li>
    <li class="footer">Generated on Tue Feb 6 2018 07:24:29 for PAASS by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
